# api_final_yatube

### Описание:

REST API для Yatube. Через этот интерфейс смогут работать мобильное приложение или чат-бот; через него же можно будет передавать данные в любое приложение или на фронтенд.

### Технологии:
- Python 3.10
- Django 3.2
- Django REST framework 3.12
- Simple JWT 4.7
- Pillow 9.3
- SQLite
### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/Astaforkin/api_final_yatube.git
```

```
cd yatube_api
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv env
```

```
source env/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:

```
python3 manage.py runserver
```

# После запуска проекта
- Проект запустился на http://127.0.0.1:8000/
- Полная документация (redoc.yaml) доступна по адресу http://127.0.0.1:8000/redoc/

# Алгоритм регистрации новых пользователей
- Придумайте новую пару «логин-пароль» и отправьте POST-запрос на http://127.0.0.1:8000/api/v1/users/, передав их в полях username и password.
- Теперь можно получить токен: отправьте POST-запрос на эндпоинт /api/v1/jwt/create/, передав действующий логин и пароль в полях username и password.

В результате пользователь получает токен и может работать с API проекта, отправляя этот токен с каждым запросом.

## Примеры запросов
### Получение списка публикаций
Для получения списка всех публикаций необходимо отправить 
Get-запрос на адрес `http://127.0.0.1:8000/api/v1/posts/`.

Пример ответа:
```
[
    {
        "id": 1,
        "author": "Ivan",
        "text": "Today is clear weather",
        "pub_date": "2023-03-21T11:39:52.033200Z",
        "image": null,
        "group": null
    },
    {
        "id": 2,
        "author": "Sergey",
        "text": "Yesterday it was raining",
        "pub_date": "2023-03-21T11:41:40.296808Z",
        "image": null,
        "group": null
    }
]
```

### Добавление публикации
Для добавления новой публикации необходимо отправить POST-запрос
на адрес `http://127.0.0.1:8000/api/v1/posts/` в JSON формате:

```
{
    "text": "Ваш текст",
    "group": 1
} 
```
Пример ответа:
```
    {
        "id": 1,
        "author": "Ivan",
        "text": "Ваш текст",
        "pub_date": "2023-03-21T11:44:41.445475Z",
        "image": null,
        "group": 1
    }
```

### Добавление комментария
Для добавления новой публикации необходимо отправить POST-запрос
на адрес `http://127.0.0.1:8000/api/v1/posts/4/comments/` в JSON формате:
```
{
    "text": "текст комментария"
} 
```
Пример ответа:
```
{
    "id": 1,
    "author": "Ivan",
    "post": 1,
    "text": "текст комментария",
    "created": "2023-03-21T11:46:05.725038Z"
} 
```
### Добавление подписки
Для добавления новой подписки необходимо отправить POST-запрос
на адрес `http://127.0.0.1:8000/api/v1/follow/` в JSON формате с именем автора, 
на которого хотите подписаться:
```
{
    "following": "name"
} 
```
Пример ответа:
```
{
    "id": 1,
    "user": "Ivan",
    "following": "name",
} 
```

### Автор:
[Астафоркин Никита](https://github.com/Astaforkin)
